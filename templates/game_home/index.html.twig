{% extends 'base.html.twig' %}

{% block javascript %}
    <script>
        window.APP = window.APP || {};
        window.APP.agents = {{ agents|json_encode|raw }};
        window.APP.innocents = {{ innocents|json_encode|raw }};
    </script>
{% endblock %}

{% block title %}Bonne enquÃªte !{% endblock %}


{% block body %}

<div class="w-full h-full relative overflow-hidden" 
    x-data="{ row: 0, col: 0, rows: 2, cols: 2 }">

    {% include './component/timer.html.twig' %}
    {% include './component/dashboard.html.twig' %}

    <div class="grid grid-rows-3 grid-cols-3 w-[300%] h-[300%] transition-transform duration-500 ease-in-out"
         :style="'transform: translateX(-' + (col * 33.333333333) + '%) translateY(-' + (row * 33.33333333) + '%)'">

        {% for i in 1..9 %}
            {% include './component/ecrans/ecran-' ~ i ~ '.html.twig' %}
        {% endfor %}

        <div class="w-full h-full hidden items-center justify-center bg-black text-white text-3xl">
            {% for i in 1..5 %}      
                {% if i == 3 %}
                    <div class="">
                        {% for j in 1..3 %}  
                            {% if j == 2 %}
                                <div class="">
                                    {% for k in 1..2 %}
                                        {% if k == 1 %} 
                                            <div class="{{ innocents[0].name }} a pris la pillule">
                                                Bleu
                                            </div>
                                        {% else %}
                                            <div class="">
                                                Vivamus pretium nulla libero, sagittis varius turpis condimentum a. Nullam eleifend ullamcorper imperdiet. Nulla sit amet consectetur felis, ultricies vestibulum mi. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Duis et ipsum leo. Mauris eu nunc velit. Praesent eu tincidunt dolor. Vivamus pulvinar, turpis eget accumsan pellentesque, dui tortor convallis lectus, sit amet posuere lorem tellus et magna. Interdum et malesuada fames ac ante ipsum primis in faucibus.
                                            </div>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            {% else %}
                                <div class="">
                                    {% for k in 1..2 %}
                                        <div class="">
                                            Vivamus pretium nulla libero, sagittis varius turpis condimentum a. Nullam eleifend ullamcorper imperdiet. Nulla sit amet consectetur felis, ultricies vestibulum mi. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Duis et ipsum leo. Mauris eu nunc velit. Praesent eu tincidunt dolor. Vivamus pulvinar, turpis eget accumsan pellentesque, dui tortor convallis lectus, sit amet posuere lorem tellus et magna. Interdum et malesuada fames ac ante ipsum primis in faucibus.
                                        </div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                {% else %}
                    <div class="">
                        {% for j in 1..3 %}  
                            <div class="">
                                {% for k in 1..2 %}
                                    <div class="">
                                        Vivamus pretium nulla libero, sagittis varius turpis condimentum a. Nullam eleifend ullamcorper imperdiet. Nulla sit amet consectetur felis, ultricies vestibulum mi. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Duis et ipsum leo. Mauris eu nunc velit. Praesent eu tincidunt dolor. Vivamus pulvinar, turpis eget accumsan pellentesque, dui tortor convallis lectus, sit amet posuere lorem tellus et magna. Interdum et malesuada fames ac ante ipsum primis in faucibus.
                                    </div>
                                {% endfor %}
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
                <div class="">
                    {% for j in 1..3 %}  
                        <div class="">
                            {% for k in 1..2 %}
                                <div class="">
                                    Vivamus pretium nulla libero, sagittis varius turpis condimentum a. Nullam eleifend ullamcorper imperdiet. Nulla sit amet consectetur felis, ultricies vestibulum mi. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Duis et ipsum leo. Mauris eu nunc velit. Praesent eu tincidunt dolor. Vivamus pulvinar, turpis eget accumsan pellentesque, dui tortor convallis lectus, sit amet posuere lorem tellus et magna. Interdum et malesuada fames ac ante ipsum primis in faucibus.
                                </div>
                            {% endfor %}
                        </div>  
                    {% endfor %}
                </div>
            {% endfor %}
        </div>
    </div>

    <button @click="if(col > 0) col--"
        class="absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 text-white px-4 py-2 rounded matrix-btn"
        :class="col === 0 ? 'none' : '' ">
        <svg class="matrix-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M20.6621 17C18.933 19.989 15.7013 22 11.9999 22C6.47703 22 1.99988 17.5228 1.99988 12C1.99988 6.47715 6.47703 2 11.9999 2C15.7013 2 18.933 4.01099 20.6621 7M11.9999 8L7.99995 12M7.99995 12L11.9999 16M7.99995 12H21.9999" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>

    <button @click="if(col < cols) col++"
            class="absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 text-white px-4 py-2 rounded matrix-btn">
        <svg class="matrix-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M3.33789 7C5.06694 4.01099 8.29866 2 12.0001 2C17.5229 2 22.0001 6.47715 22.0001 12C22.0001 17.5228 17.5229 22 12.0001 22C8.29866 22 5.06694 19.989 3.33789 17M12 16L16 12M16 12L12 8M16 12H2" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>

    <button @click="if(row > 0) row--"
            class="absolute top-4 left-1/2 -translate-x-1/2 bg-black/50 text-white px-4 py-2 rounded matrix-btn">
        <svg class="matrix-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M7 20.6621C4.01099 18.933 2 15.7013 2 11.9999C2 6.47703 6.47715 1.99988 12 1.99988C17.5228 1.99988 22 6.47703 22 11.9999C22 15.7013 19.989 18.933 17 20.6621M16 11.9999L12 7.99995M12 7.99995L8 11.9999M12 7.99995V21.9999" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>

    <button @click="if(row < rows) row++"
            class="absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 text-white px-4 py-2 rounded matrix-btn">
        <svg class="matrix-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M17 3.33782C19.989 5.06687 22 8.29859 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 8.29859 4.01099 5.06687 7 3.33782M8 12L12 16M12 16L16 12M12 16V2" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>

        </svg>
    </button>
</div>





{% endblock %}
